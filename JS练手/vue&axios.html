
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>axios是一个AJAX库</title>
   <script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
   <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <div>
        书名：《JavaScript高级程序设计》
        数量：<span id="number">2</span>
    </div>
    <div id="btn">
        <button id="btn1">加1</button>
        <button id="btn2">减1</button>
        <button id="btn3">清零</button>
    </div>
<!----------------------------------------------------------------------------->    
    <script>
        !function (){

            var book = {
                bookName : 'JavaScript',
                number :1
            }
            axios.interceptors.request.use(function (response) {
               var {url,data,method} = response
               console.log(url,data,method)
               if (url === '/book/1' && method === 'get'){
                   response.book = book
               }
                return response
            });
    
              
          /*******************************************************/
            axios.get('/book/1',{data:{a:1}}).then((response)=>{
                console.log(response)
            })
  

          

            $('#btn1').on('click',()=>{
                var n = 1
                var newNumber = $('#number').text()-0
                newNumber+=n
                $('#number').text(newNumber)
            })  
            $('#btn2').on('click',()=>{
                var n = 1
                var newNumber = $('#number').text()-0
                if (newNumber !== 0){newNumber-=n}
                $('#number').text(newNumber)
            })  
            $('#btn3').on('click',()=>{
                $('#number').text('0')
            })  


        }.call()
        
    </script>
</body>
</html>